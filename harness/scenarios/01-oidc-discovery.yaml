id: oidc-discovery-contract
priority: p0
objective: OIDC discovery endpoint が最低限の必須フィールドを返すこと
request:
  method: GET
  path: /.well-known/openid-configuration
expect:
  status: 200
  required_fields:
    - issuer
    - jwks_uri
    - authorization_endpoint
    - token_endpoint
    - response_types_supported
    - grant_types_supported
    - code_challenge_methods_supported
  must_include:
    grant_types_supported:
      - authorization_code
    code_challenge_methods_supported:
      - S256
  must_not_include:
    grant_types_supported:
      - password
